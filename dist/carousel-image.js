!function(t,n){"function"==typeof define&&define.amd?define(["$"],n):"object"==typeof exports?module.exports=n():t.ScrollLoad=n(window.Zepto||window.jQuery||$)}(this,function(t){function n(){}return t.fn.CarouselImage=function(i){var e=[];return t(this).each(function(){var o=new n,s=t.extend({target:t(this)},i);o.init(s),e.push(o)}),e},n.prototype={init:function(t){this.index=0,this.container=t.target,this.content=this.container.children().first(),this.timer=t.timer||3e3,this.animate=t.animate||500,this.num=t.num||null,this.list=this.content.children(),this.step=this.list.first().width(),this.content.width(this.list.length*this.step),this.size=this.list.length,this.content.css({left:0,position:"absolute"}),this.bindEvent(),this.auto(),this.formatNum()},touch:function(n,i,e){function o(t){return e.call(this,t)}var s;"function"==typeof i&&(e=i),t(n).on("touchmove",i,function(t){s=!0}).on("touchend",i,function(t){if(t.preventDefault(),!s){var n=e.call(this,t,"touch");n===!1&&(t.preventDefault(),t.stopPropagation())}s=!1}),t(n).on("click",i,o)},bindEvent:function(){var n=this,i={},e=0,o={},s=!1,h={};this.content.on("touchstart",function(o){return i={x:o.changedTouches[0].pageX},2==o.targetTouches.length?(s=!1,!1):(h=t(this).position(),e=i.x,void clearInterval(n.interval))}).on("touchmove",function(e){return 2==e.targetTouches.length?!1:(s=!0,o={x:e.changedTouches[0].pageX},n.bloom?(h={left:h.left+(o.x-i.x)},t(this).css(h)):(h.left=h.left+(o.x-i.x),t(this).css({left:h.left})),i=o,!1)}).on("touchend",function(h){o={x:h.changedTouches[0].pageX};var c=t(this).position(),r={left:c.left+(o.x-i.x)};return t(this).css(r),o.x>e?n.index--:n.index++,n.go(),s=!1,n.auto(),!1}),n.touch(n.num,"i",function(){clearInterval(n.interval),n.index=t(this).index(),n.go(),n.auto()})},formatNum:function(){if(this.num){for(var t="",n=0,i=this.list.length;i>n;n++){var e=(this.list[n],"");this.index==n&&(e="current"),t+='<i class="'+e+'">'+(n+1)+"</i>"}this.num.html(t)}},go:function(){var n=this;n.index>=n.size&&(n.index=n.size-1),n.index<0&&(n.index=0);var i=n.step,e=-n.index*i;n.content.animate({left:e},n.animate,t.proxy(n.formatNum,n))},auto:function(){var t=this;this.interval=setInterval(function(){t.index++,t.index>=t.size&&(t.index=0),t.go()},this.timer)}},n});